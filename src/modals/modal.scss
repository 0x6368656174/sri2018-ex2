@import '~sass-rem';

@import '../scss/const';
@import '../scss/engine-conditions';

.modal {
  background-color: rgba($color-black, 0);
  bottom: 0;
  display: none;
  left: 0;
  overflow-y: scroll;
  overscroll-behavior: contain;
  padding: rem(21px);
  position: fixed;
  right: 0;
  top: 0;
  transition: background-color $modal-animation-time ease-out;

  // К сожалению, FireFox неверно обрабатывает position: fixed в елементе с filter
  // (https://bugzilla.mozilla.org/show_bug.cgi?id=1426919)
  // поэтому блюра не будет, и поэтому сделаем фон чутка более темным, чтоб выглядело получше
  @include is-firefox {
    &--modal-visible {
      background-color: rgba($color-black, 0.8) !important;
    }

    &__static-content--modal-visible {
      filter: none !important;
    }
  }

  &--modal-visible {
    background-color: rgba($color-black, 0.5);
  }

  &--visible {
    display: block;
  }

  &__static-content {
    filter: none;
    transition: filter $modal-animation-time ease-out;

    &--modal-visible {
      filter: blur(rem(5px));
    }
  }

  &__content {
    display: flex;
    flex-direction: column;
    height: 100%;
    opacity: 0;
    position: relative;
    transform-origin: rem(-21px) rem(-21px);
    transition: transform $modal-animation-time ease-out, opacity $modal-animation-time ease-out;
    width: 100%;

    &--visible {
      opacity: 1;
    }

    &--transition-disabled {
      transition: none;
    }
  }

  &__popup {
    background-color: #fff;
    border-radius: rem(20px);
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  &__title {
    margin-bottom: rem(15px);
    margin-left: rem(20px);
    margin-right: rem(20px);
    margin-top: rem(21px);
  }

  &__button {
    background-color: #fff;
    border-radius: rem(20px);
    border-style: none;
    font-size: rem(18px);
    height: rem(60px);
    margin-top: rem(15px);
    min-height: rem(60px);

    &--primary {
      background-color: $color-yellow;
    }
  }
}
